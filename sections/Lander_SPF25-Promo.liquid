{% comment %}
  =====================================================================================
  Shopify Section: SPF25 Lander
  Final Polished Version - v9

  **Design Rationale & Final Features (v9 - Definitive):**
  - **Enhanced Visual Hierarchy:** The main page now has a light gray background, allowing the white category and coupon cards to "float" on top with a refined drop shadow, dramatically improving scannability and reducing visual fatigue.
  - **Refined Grid Layout:** The main content container width has been slightly reduced, giving the 2x2 grid more breathing room and a more premium, less crowded feel.
  - **Polished & Hardened CTAs:** Button hover states now have a smooth, interactive scale effect and use `!important` to guarantee the correct accent color, overriding any theme defaults.
  - **Bulletproof Hero & Full Responsiveness:** Retains the perfected hero section and is meticulously optimized for all devices.
  =====================================================================================
{% endcomment %}

<!-- Import Google Font for the Hero Headline -->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Archivo+Black&display=swap" rel="stylesheet">

<div class="sale-lander">

  <!-- ************ PRE-HEADER & HERO CONTAINER ************ -->
  <div class="sale-lander__hero-wrapper">
    <div class="sale-lander__pre-header">
      <span class="sale-lander__pre-header-tag">Limited Time Sale</span>
    </div>

    <header class="sale-lander__header">
      <div class="sale-lander__container sale-lander__container--narrow">
        <h1 class="sale-lander__headline">
          <span class="sale-lander__headline-line">Let's Make This Your</span>
          <span class="sale-lander__headline-line highlight-text--yellow">Strongest Summer Ever.</span>
        </h1>
        <p class="sale-lander__intro">Your <strong>25% OFF</strong> discount is ready. Just choose your fuel, and the code <code class="sale-lander__code-inline">SPF25</code> will be automatically applied at checkout.</p>
      </div>
    </header>
  </div>

  <main class="sale-lander__main-content">
    
    <!-- ************ CATEGORY GRID SECTION ************ -->
    <section class="sale-lander__section">
      <div class="sale-lander__container">
        <h2 class="sale-lander__section-title">Shop Your Way & Save 25%</h2>
        <div class="sale-lander__grid">
          
          <!-- Category Card 1: Signature Meals -->
          <a href="/discount/SPF25?redirect=/collections/signature-menu" class="category-card">
            <div class="category-card__image-wrapper">
              <img src="https://cdn.shopify.com/s/files/1/1957/2713/files/Signature-Meals_v1.jpg?v=1750349495" loading="lazy" alt="A delicious, healthy plated signature meal from ICON Meals.">
            </div>
            <div class="category-card__content">
              <h3>Signature Meals</h3>
              <p>30+ chef-curated recipes ready in 90 seconds. Maximum flavor, perfect macros, zero guesswork.</p>
              <span class="category-card__button">Shop Signature →</span>
            </div>
          </a>

          <!-- Category Card 2: Custom Meals -->
          <a href="/discount/SPF25?redirect=/pages/custom-meals" class="category-card">
            <div class="category-card__image-wrapper">
              <img src="https://cdn.shopify.com/s/files/1/1957/2713/files/Custom-Meals_v1.jpg?v=1750349495" loading="lazy" alt="An overhead view of healthy ingredients like salmon, chicken, broccoli, and rice for custom meals.">
            </div>
            <div class="category-card__content">
              <h3>Custom Meals</h3>
              <p>You are in complete control. Choose your proteins, carbs, and veggies to build the exact meal you need.</p>
              <span class="category-card__button">Build Your Own →</span>
            </div>
          </a>

          <!-- Category Card 3: Meal Boxes -->
          <a href="/discount/SPF25?redirect=/collections/meal-boxes" class="category-card">
            <div class="category-card__image-wrapper">
              <img src="https://iconmeals.com/cdn/shop/files/build-your-box_900x.jpg?v=1654193516" loading="lazy" alt="An open ICON Meals box for building your own variety pack of meals.">
            </div>
            <div class="category-card__content">
              <h3>Meal Boxes</h3>
              <p>The best value and variety. Curated boxes packed with our most popular meals to fuel your week.</p>
              <span class="category-card__button">Shop Boxes →</span>
            </div>
          </a>

          <!-- Category Card 4: Bulk Items -->
          <a href="/discount/SPF25?redirect=/collections/by-the-pound" class="category-card">
            <div class="category-card__image-wrapper">
              <img src="https://cdn.shopify.com/s/files/1/1957/2713/files/Bulk-Meals_v1.jpg?v=1750349495" loading="lazy" alt="Perfectly cooked and sliced steak, a bulk item from ICON Meals.">
            </div>
            <div class="category-card__content">
              <h3>Bulk Items</h3>
              <p>Perfectly cooked proteins and sides by the pound. The ultimate meal-prep shortcut for athletes.</p>
              <span class="category-card__button">Shop Bulk →</span>
            </div>
          </a>

        </div>
      </div>
    </section>

    <!-- ************ OFFER DETAILS SECTION ************ -->
    <section class="sale-lander__section">
      <div class="sale-lander__container sale-lander__container--narrow">
        <div class="sale-lander__coupon-card">
          <p class="coupon-card__super-text">25% OFF EVERYTHING</p>
          <p class="coupon-card__code">SPF25</p>
          <p class="coupon-card__sub-text">This discount will be automatically applied at checkout when you shop through this page.</p>

          <div id="countdown-timer-container-lander">
            <p class="countdown-timer-lander__title">Hurry, Offer Ends In:</p>
            <div id="countdown-timer-lander" class="countdown-timer-lander">
              <div class="timer-box-lander"><span id="days-lander" class="timer-number-lander">00</span><span class="timer-label-lander">Days</span></div>
              <div class="timer-box-lander"><span id="hours-lander" class="timer-number-lander">00</span><span class="timer-label-lander">Hours</span></div>
              <div class="timer-box-lander"><span id="minutes-lander" class="timer-number-lander">00</span><span class="timer-label-lander">Mins</span></div>
              <div class="timer-box-lander"><span id="seconds-lander" class="timer-number-lander">00</span><span class="timer-label-lander">Secs</span></div>
            </div>
          </div>
          <p id="sale-ended-message-lander" class="sale-ended-message-lander" style="display: none;">This sale has ended.</p>
          <p class="coupon-card__fine-print">Sale ends Tuesday, June 24th, at 11:59 PM CT.</p>
        </div>
      </div>
    </section>

  </main>
</div>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    const countDownDate = new Date("2025-06-24T23:59:59-05:00").getTime();
    const timerContainer = document.getElementById("countdown-timer-container-lander");
    const saleEndedMessage = document.getElementById("sale-ended-message-lander");
    const interval = setInterval(function() {
      const now = new Date().getTime();
      const distance = countDownDate - now;
      if (distance < 0) {
        clearInterval(interval);
        if (timerContainer) timerContainer.style.display = "none";
        if (saleEndedMessage) saleEndedMessage.style.display = "block";
        return;
      }
      const days = Math.floor(distance / (1000 * 60 * 60 * 24));
      const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
      const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
      const seconds = Math.floor((distance % (1000 * 60)) / 1000);
      document.getElementById("days-lander").innerText = String(days).padStart(2, '0');
      document.getElementById("hours-lander").innerText = String(hours).padStart(2, '0');
      document.getElementById("minutes-lander").innerText = String(minutes).padStart(2, '0');
      document.getElementById("seconds-lander").innerText = String(seconds).padStart(2, '0');
    }, 1000);
  });
</script>

<style>
  .sale-lander {
    --color-text: #2d3748;
    --color-text-light: #4a5568;
    --color-heading: #1a202c;
    --color-background: #ffffff;
    --color-background-alt: #f7fafc;
    --color-border: #e2e8f0;
    --color-primary: #CD1C26;
    --color-accent: #FFD000;
    --font-hero: 'Archivo Black', sans-serif;
    --font-heading: {{ settings.heading_font.family }}, {{ settings.heading_font.fallback_families }};
    --font-body: {{ settings.body_font.family }}, {{ settings.body_font.fallback_families }};
    --shadow-md: 0 4px 6px -1px rgba(0,0,0,0.07), 0 2px 4px -2px rgba(0,0,0,0.07);
    --shadow-lg: 0 10px 15px -3px rgba(0,0,0,0.1), 0 4px 6px -4px rgba(0,0,0,0.1);
    --radius-md: 0.375rem;
    --radius-lg: 0.75rem;
  }
  .sale-lander {
    background-color: var(--color-background-alt); /* Light gray page background */
    font-family: var(--font-body);
  }
  .sale-lander__container { 
    max-width: 1100px; /* Reduced width for more breathing room */
    width: 100%; 
    margin: 0 auto; 
    padding: 0 1.5rem; 
  }
  .sale-lander__container--narrow { max-width: 800px; }

  /* --- HERO WRAPPER --- */
  .sale-lander__hero-wrapper {
    background: linear-gradient(to bottom, #2d3748, #1a202c);
  }

  /* --- PRE-HEADER TAG --- */
  .sale-lander__pre-header {
    text-align: center;
    padding: 2.5rem 1.5rem 0;
  }
  .sale-lander__pre-header-tag {
    display: inline-block;
    background-color: var(--color-primary);
    color: #ffffff;
    font-family: var(--font-hero);
    font-size: 0.8rem;
    padding: 0.4rem 1.1rem;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    border-radius: var(--radius-md);
    transform: rotate(-2deg);
    box-shadow: var(--shadow-md);
  }

  /* --- HERO STYLES --- */
  .sale-lander__header { 
    text-align: center; 
    padding: 1.5rem 1.5rem clamp(4rem, 10vw, 6rem); 
    color: #ffffff; 
  }
  .sale-lander__headline { 
    font-family: var(--font-hero); 
    font-size: clamp(2.2rem, 6vw, 4rem); 
    line-height: 1.15; 
    text-transform: uppercase; 
    margin: 0 0 1.5rem 0;
    color: #ffffff;
    word-break: normal !important;
    overflow-wrap: normal !important;
    white-space: normal !important;
    -webkit-hyphens: none !important;
    hyphens: none !important;
    text-wrap: balance;
  }
  .sale-lander__headline-line {
    display: block;
  }
  .sale-lander__headline .highlight-text--yellow {
    background: linear-gradient(175deg, #FFEEA0 20%, #FFD000 80%);
    -webkit-background-clip: text;
    background-clip: text;
    -webkit-text-fill-color: transparent;
  }
  .sale-lander__intro { 
    font-size: 1.2rem; 
    color: #cbd5e0; 
    max-width: 55ch; 
    margin: 0 auto; 
    line-height: 1.6;
    text-wrap: pretty;
  }
  .sale-lander__code-inline {
    background-color: rgba(255,255,255,0.1);
    color: #fff;
    padding: 0.15em 0.4em;
    border-radius: var(--radius-md);
    font-family: monospace;
    font-size: 1.1rem;
  }

  .sale-lander__section { 
    padding: clamp(3rem, 8vw, 5rem) 0; 
  }
  .sale-lander__section-title {
    font-family: var(--font-hero);
    font-size: clamp(2rem, 5vw, 2.75rem);
    text-align: center;
    margin: 0 auto 3rem;
    color: var(--color-heading);
    max-width: 20ch;
    line-height: 1.2;
    text-wrap: pretty;
  }
  
  /* --- CATEGORY GRID --- */
  .sale-lander__grid {
    display: grid;
    grid-template-columns: 1fr;
    gap: 1.5rem;
  }
  @media(min-width: 768px) { 
    .sale-lander__grid { 
      grid-template-columns: repeat(2, 1fr);
      gap: 2.5rem; /* Increased gap */
    } 
  }

  .category-card {
    display: flex;
    flex-direction: column;
    background-color: var(--color-background);
    border: 1px solid var(--color-border);
    border-radius: var(--radius-lg);
    text-decoration: none !important;
    overflow: hidden;
    box-shadow: var(--shadow-md);
    transition: transform 0.3s ease, box-shadow 0.3s ease;
  }
  .category-card:hover {
    transform: translateY(-10px);
    box-shadow: var(--shadow-lg);
  }
  .category-card__image-wrapper {
    width: 100%;
    aspect-ratio: 16/10;
    overflow: hidden;
  }
  .category-card__image-wrapper img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    transition: transform 0.4s ease;
  }
  .category-card:hover .category-card__image-wrapper img {
    transform: scale(1.05);
  }
  .category-card__content {
    padding: 1.5rem;
    display: flex;
    flex-direction: column;
    flex-grow: 1;
    text-align: left;
  }
  .category-card h3 {
    font-family: var(--font-hero);
    font-size: 1.5rem;
    color: var(--color-heading) !important;
    margin: 0 0 0.5rem 0;
  }
  .category-card p {
    color: var(--color-text-light);
    line-height: 1.5;
    margin: 0;
  }
  .category-card__button {
    display: inline-block;
    background-color: var(--color-primary);
    color: white !important;
    -webkit-text-fill-color: white;
    padding: 0.75rem 1.5rem;
    border-radius: var(--radius-md);
    text-align: center;
    font-weight: 700;
    margin-top: 1.5rem;
    transition: all 0.25s ease;
    transform: scale(1);
  }
  .category-card:hover .category-card__button {
    background-color: var(--color-accent) !important;
    color: var(--color-heading) !important;
    -webkit-text-fill-color: var(--color-heading) !important;
    transform: scale(1.05);
  }

  /* --- COUPON CARD & TIMER --- */
  .sale-lander__coupon-card {
    text-align: center;
    background-color: var(--color-background);
    border: 2px dashed var(--color-border);
    padding: clamp(1.5rem, 5vw, 3rem);
    border-radius: var(--radius-lg);
    box-shadow: var(--shadow-md);
  }
  .coupon-card__super-text {
    font-size: 1rem;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    color: var(--color-text);
    margin: 0;
  }
  .coupon-card__code {
    font-family: var(--font-hero);
    font-size: clamp(3.5rem, 12vw, 6rem);
    color: var(--color-primary);
    line-height: 1;
    margin: 0.5rem 0;
  }
  .coupon-card__sub-text {
    color: var(--color-text-light);
    max-width: 45ch;
    margin: 0 auto 1.5rem;
  }
  .coupon-card__fine-print {
    margin: 1.5rem 0 0 0;
    font-size: 0.9rem;
    color: var(--color-text-light);
  }
  
  .countdown-timer-lander__title { font-size: 0.9rem; text-transform: uppercase; letter-spacing: 0.05em; color: var(--color-text-light); margin: 1rem 0 0.75rem !important; }
  .countdown-timer-lander { display: flex; justify-content: center; gap: 1rem; }
  .timer-box-lander { display: flex; flex-direction: column; align-items: center; background-color: var(--color-background-alt); padding: 0.5rem; border-radius: var(--radius-md); min-width: 60px; border: 1px solid var(--color-border); }
  .timer-number-lander { font-family: var(--font-heading); font-size: 1.75rem; font-weight: 700; color: var(--color-heading); line-height: 1; }
  .timer-label-lander { font-size: 0.75rem; color: var(--color-text-light); }
  .sale-ended-message-lander { font-weight: 700; font-size: 1.2rem; color: var(--color-primary); margin: 1rem 0 !important; }

</style>

{% schema %}
{
  "name": "SPF25 Lander",
  "tag": "section",
  "class": "shopify-section--sale-lander",
  "settings": [
    {
      "type": "image_picker",
      "id": "social_sharing_image",
      "label": "Social Sharing Image (OG Image)",
      "info": "1200x630px recommended. This image will be shown when the page link is shared on social media (e.g., Facebook, X). If left blank, your theme's default will be used."
    }
  ],
  "presets": [
    {
      "name": "SPF25 Lander"
    }
  ]
}
{% endschema %}