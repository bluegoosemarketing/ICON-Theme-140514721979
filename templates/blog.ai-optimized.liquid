{% layout 'ai-optimized' %}

{%- comment -%}
  GEO & LLM Optimization:
  1. H1 Tag for clear hierarchy.
  2. Unordered List (UL/LI) for efficient crawling.
  3. JSON-LD Schema to define this as a Blog entity.
{%- endcomment -%}

<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "Blog",
  "name": "{{ blog.title }}",
  "url": "{{ shop.url }}{{ blog.url }}",
  "description": "AI Knowledge Base for ICON Meals - High Protein Nutrition & Meal Prep Guides.",
  "publisher": {
    "@type": "Organization",
    "name": "ICON Meals",
    "logo": {
      "@type": "ImageObject",
      "url": "https://cdn.shopify.com/s/files/1/1957/2713/files/ICON_Meals_Logo.png"
    }
  },
  "blogPost": [
    {% for article in blog.articles limit: 50 %}
    {
      "@type": "BlogPosting",
      "headline": "{{ article.title | escape }}",
      "url": "{{ shop.url }}{{ article.url }}",
      "datePublished": "{{ article.published_at | date: '%Y-%m-%dT%H:%M:%S%z' }}"
    }{% unless forloop.last %},{% endunless %}
    {% endfor %}
  ]
}
</script>

<h1>{{ blog.title }}</h1>

{% paginate blog.articles by 100 %}
  <ul>
    {% for article in blog.articles %}
      <li>
        <a href="{{ article.url }}">{{ article.title }}</a> - {{ article.published_at | date: "%B %d, %Y" }}
      </li>
    {% endfor %}
  </ul>

  {% if paginate.pages > 1 %}
    <nav aria-label="Pagination">
      {% if paginate.previous %}
        <a href="{{ paginate.previous.url }}">Previous</a>
      {% endif %}
      {% if paginate.next %}
        <a href="{{ paginate.next.url }}">Next</a>
      {% endif %}
    </nav>
  {% endif %}
{% endpaginate %}